<!DOCTYPE html>
<html lang="en">
	<%- include('partials/header', {title}) %>
	<body>
		<%- include('partials/nav') %>
		<h1><%= title %></h1>
		<main>
			<form action="/all/update/<%= item._id %>" method="POST">
                <input type="hidden" name="_method" value="PUT">

                <label for="name">Name: </label>
                <input type="text" name="name" minlength="3" value="<%= item.name %>" required>
                <br>
            
                <label for="description">Description: </label>
                <textarea name="description" minlength="10" required><%= item.description %></textarea>
                <br>
            
                <label for="price">Price: </label>
                <input type="number" name="price" min="1" max="99999" value="<%= item.price %>" required >
                <br>
            
                <label for="category">Category: </label>
                <select name="category" required>
                    <% categories.forEach(category => {%>
                        <option 
                            value="<%= category.name %>"
                            <% if(category.name === preselected) { %> selected <% } %>  
                        >
                        <%= category.name %>
                        </option>
                    <% }); %>
                </select>
                <br>
            
                <label for="stock">Stock: </label>
                <input type="number" name="stock" min="1" max="99999" value="<%= item.stock %>" required>
            
                <button type="submit">Submit</button>
            
                
                <% if(errors) {%>
                    <ul>
                    <% errors.forEach(error => { %>
                        <li><%= error %> </li>
                    <% }); %>
                    </ul>
                <% } %>
            
            
            </form>
		</main>
	</body>
</html>
